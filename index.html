<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>YouTube Audio Transcriber</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 p-6">
  <div class="max-w-xl mx-auto bg-white p-8 rounded shadow">
    <h1 class="text-2xl font-bold mb-4">YouTube Audio Transcriber</h1>
    
    <label class="block mb-2 font-medium">YouTube URL:</label>
    <input id="url" type="text" class="w-full border p-2 mb-4" placeholder="Enter a YouTube URL">

    <label class="block mb-2 font-medium">Audio Name:</label>
    <input id="name" type="text" class="w-full border p-2 mb-4" placeholder="Enter a name for the audio file">

    <button onclick="processAudio()" class="bg-blue-600 text-white px-4 py-2 rounded">Submit</button>

    <div id="loading" class="mt-4 text-gray-600 hidden">Processing...</div>
    <div id="output" class="mt-4 whitespace-pre-wrap"></div>
  </div>

  <script>
    async function processAudio() {
      document.getElementById("loading").classList.remove("hidden");
      document.getElementById("output").innerText = "";

      const url = document.getElementById("url").value;
      const name = document.getElementById("name").value;

      const response = await fetch("http://localhost:5000/process", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ url, name })
      });

      const data = await response.json();
      document.getElementById("loading").classList.add("hidden");

      if (data.error) {
        document.getElementById("output").innerText = "‚ùå " + data.error;
      } else {
        document.getElementById("output").innerText =
          "‚úÖ Transcription:\n" + data.transcript + "\n\nüìã Summary:\n" + data.summary;
      }
    }
  </script>
</body>
</html>